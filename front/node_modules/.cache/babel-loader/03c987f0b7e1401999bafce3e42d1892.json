{"remainingRequest":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\babel-loader\\lib\\index.js!E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\LogoutBtn.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\LogoutBtn.vue","mtime":1628317451846},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L19fV2ViIERldl9fIEZvcm1hdGlvbi9GYXRldFNlcmFwaGluXzdfMTIwNzIwMjEvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ291dEJ0biIsCiAgcHJvcHM6IHsKICAgIGlzTG9nUGFnZXM6IEJvb2xlYW4sCiAgICBpc1N3YXBQYWdlczogQm9vbGVhbiwKICAgIHN3YXBQYWdlQWxlcnQ6IEJvb2xlYW4sCiAgICBzd2FwUGFnZU1zZzogU3RyaW5nLAogICAgcG9wdXBEdXJhdGlvbjogTnVtYmVyCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHRva2VuLCByZXNwb25zZSwgcmVzT2JqLCBwb3B1cDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVG9rZW4iKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2F1dGgvbG9nb3V0IiwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04IiwKICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc09iaiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoImxvZ1BhZ2VzIik7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInN3YXBQYWdlcyIpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJzd2FwUGFnZUFsZXJ0Iik7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInN3YXBQYWdlTXNnIiwgcmVzT2JqLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgIHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnN3YXAtcGFnZXMtYWxlcnQiKTsKICAgICAgICAgICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoInJlZC1wb3B1cCIpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgic3dhcFBhZ2VBbGVydCIpOwogICAgICAgICAgICAgICAgfSwgX3RoaXMuJHBhcmVudC5wb3B1cER1cmF0aW9uICogMik7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoInJlZC1wb3B1cCIpOwogICAgICAgICAgICAgICAgfSwgX3RoaXMuJHBhcmVudC5wb3B1cER1cmF0aW9uICogMyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IiLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzQsIDE5XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\LogoutBtn.vue"],"names":[],"mappings":";;;;AAYI,eAAe;AACX,EAAA,IAAI,EAAE,WADK;AAGX,EAAA,KAAK,EAAE;AACH,IAAA,UAAU,EAAE,OADT;AAEH,IAAA,WAAW,EAAE,OAFV;AAGH,IAAA,aAAa,EAAE,OAHZ;AAIH,IAAA,WAAW,EAAE,MAJV;AAKH,IAAA,aAAa,EAAE;AALZ,GAHI;AAWX,EAAA,OAAO,EAAE;AACC,IAAA,MADD,oBACU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACL,gBAAA,KADK,GACG,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,OAA5B,CADH;AAAA;AAAA,uBAGY,KAAK,CAAC,uCAAD,EAA0C;AAClE,kBAAA,OAAO,EAAE;AACL,oCAAgB,iCADX;AAEL,sDAA2B,KAA3B;AAFK,mBADyD;AAKlE,kBAAA,MAAM,EAAE;AAL0D,iBAA1C,CAHjB;;AAAA;AAGL,gBAAA,QAHK;AAAA;AAAA;AAAA,uBAYc,QAAQ,CAAC,IAAT,EAZd;;AAAA;AAYD,gBAAA,MAZC;AAaP,gBAAA,MAAM,CAAC,YAAP,CAAoB,KAApB;;AAEA,gBAAA,KAAI,CAAC,KAAL,CAAW,UAAX;;AACA,gBAAA,KAAI,CAAC,KAAL,CAAW,WAAX;;AACA,gBAAA,KAAI,CAAC,KAAL,CAAW,eAAX;;AACA,gBAAA,KAAI,CAAC,KAAL,CAAW,aAAX,EAA0B,MAAM,CAAC,OAAjC;;AAEM,gBAAA,KApBC,GAoBO,QAAQ,CAAC,aAAT,CAAuB,mBAAvB,CApBP;AAqBP,gBAAA,KAAK,CAAC,SAAN,CAAgB,GAAhB,CAAoB,WAApB;AAEA,gBAAA,UAAU,CAAC;AAAA,yBAAM,KAAI,CAAC,KAAL,CAAW,eAAX,CAAN;AAAA,iBAAD,EAAoC,KAAI,CAAC,OAAL,CAAa,aAAb,GAA6B,CAAjE,CAAV;AACA,gBAAA,UAAU,CAAC;AAAA,yBAAM,KAAK,CAAC,SAAN,CAAgB,MAAhB,CAAuB,WAAvB,CAAN;AAAA,iBAAD,EAA4C,KAAI,CAAC,OAAL,CAAa,aAAb,GAA6B,CAAzE,CAAV;AAxBO;AAAA;;AAAA;AAAA;AAAA;AA0BI,gBAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;;AA1BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2Bf;AA5BK;AAXE,CAAf","sourcesContent":["<template>\r\n\r\n    <button class=\"flexCenter btn red-btn logout-btn\" @click.prevent=\"logout()\" type=\"submit\">\r\n        <figure class=\"flexCenter\">\r\n            <i class=\"fas fa-power-off\"></i>\r\n        </figure>\r\n    </button>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n    export default {\r\n        name: \"LogoutBtn\",\r\n\r\n        props: {\r\n            isLogPages: Boolean,\r\n            isSwapPages: Boolean,\r\n            swapPageAlert: Boolean,\r\n            swapPageMsg: String,\r\n            popupDuration: Number,\r\n        },\r\n\r\n        methods: {\r\n            async logout() {\r\n                const token = window.localStorage.getItem(\"Token\");\r\n                \r\n                const response = await fetch(\"http://localhost:3000/api/auth/logout\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n                        \"Authorization\": `Bearer ${token}`\r\n                    },\r\n                    method: \"POST\",\r\n                });\r\n                \r\n                try {\r\n                    const resObj = await response.json();\r\n                    window.localStorage.clear();\r\n\r\n                    this.$emit(\"logPages\");\r\n                    this.$emit(\"swapPages\");\r\n                    this.$emit(\"swapPageAlert\");\r\n                    this.$emit(\"swapPageMsg\", resObj.message);\r\n\r\n                    const popup = document.querySelector(\".swap-pages-alert\");\r\n                    popup.classList.add(\"red-popup\");\r\n\r\n                    setTimeout(() => this.$emit(\"swapPageAlert\"), this.$parent.popupDuration * 2 );\r\n                    setTimeout(() => popup.classList.remove(\"red-popup\"), this.$parent.popupDuration * 3);\r\n                }\r\n                catch(error) { console.log(\"error\", error) }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style>\r\n    .red-popup {\r\n        border-color: red !important;\r\n        background: rgb(255, 210, 210) !important;\r\n    }\r\n</style>\r\n\r\n\r\n<style scoped>\r\n    .logout-btn {\r\n        position: absolute;\r\n        top: 10px;\r\n        right: 10%;\r\n        height: 40px;\r\n        width: 40px;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .svg-inline--fa {\r\n        font-size: 110%;\r\n    }\r\n\r\n\r\n\r\n    /* =============================================================================== */\r\n    /*      Tablet Small Size       */\r\n    /* =============================================================================== */\r\n    @media screen and (min-width: 421px) and (max-width : 576px) {\r\n        .logout-btn {\r\n            height: 45px;\r\n            width: 45px;\r\n            top: 8px;\r\n        }\r\n    }\r\n\r\n\r\n    /* =============================================================================== */\r\n    /*      Tablet Big Size       */\r\n    /* =============================================================================== */\r\n    @media screen and (min-width: 577px) and (max-width : 768px) {\r\n\r\n        .logout-btn {\r\n        height: 50px;\r\n        width: 50px;\r\n        top: 5px;\r\n        }\r\n    }\r\n\r\n\r\n    /* =============================================================================== */\r\n    /*      Laptop Small Size       */\r\n    /* =============================================================================== */\r\n    @media screen and (min-width: 769px) and (max-width : 992px) {\r\n\r\n        .logout-btn {\r\n        height: 55px;\r\n        width: 55px;\r\n        top: 8px;\r\n        }\r\n    }\r\n\r\n\r\n    /* =============================================================================== */\r\n    /*      Laptop Big Size      */\r\n    /* =============================================================================== */\r\n    @media screen and (min-width: 993px) and (max-width : 1366px) {\r\n\r\n        .logout-btn {\r\n            height: 50px;\r\n            width: 100px;\r\n            top: 10px;\r\n            right: 5%;\r\n            border-radius: 13px;\r\n        }\r\n    }\r\n\r\n\r\n    /* =============================================================================== */\r\n    /*      Screen Normal Size && Over      */\r\n    /* =============================================================================== */\r\n    @media screen and (min-width: 1367px) {\r\n\r\n        .logout-btn {\r\n            height: 50px;\r\n            width: 150px;\r\n            top: 14px;\r\n            right: 5%;\r\n            border-radius: 13px;\r\n        }\r\n    }\r\n</style>"],"sourceRoot":""}]}