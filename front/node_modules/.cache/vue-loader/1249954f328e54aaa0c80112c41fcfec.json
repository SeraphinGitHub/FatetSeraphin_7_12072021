{"remainingRequest":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\LogoutBtn.vue?vue&type=style&index=1&id=3b92091c&scoped=true&lang=css","dependencies":[{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\LogoutBtn.vue","mtime":1628183785119},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1626466876000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLmxvZ291dC1idG4gew0KICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgIHRvcDogMTBweDsNCiAgICAgICAgcmlnaHQ6IDEwJTsNCiAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICB3aWR0aDogNDBweDsNCiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgIH0NCg0KICAgIC5zdmctaW5saW5lLS1mYSB7DQogICAgICAgIGZvbnQtc2l6ZTogMTEwJTsNCiAgICB9DQo="},{"version":3,"sources":["E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\LogoutBtn.vue"],"names":[],"mappings":";IAkEI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtB;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB","file":"E:/__Web Dev__ Formation/FatetSeraphin_7_12072021/front/src/components/LogoutBtn.vue","sourceRoot":"","sourcesContent":["<template>\r\n\r\n    <button class=\"flexCenter btn red-btn logout-btn\" @click.prevent=\"logout()\" type=\"submit\">\r\n        <figure class=\"flexCenter\">\r\n            <i class=\"fas fa-power-off\"></i>\r\n        </figure>\r\n    </button>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n    export default {\r\n        name: \"LogoutBtn\",\r\n\r\n        props: {\r\n            isLogPages: Boolean,\r\n            isSwapPages: Boolean,\r\n            swapPageAlert: Boolean,\r\n            swapPageMsg: String,\r\n            popupDuration: Number,\r\n        },\r\n\r\n        methods: {\r\n            async logout() {\r\n                const token = window.localStorage.getItem(\"Token\");\r\n                \r\n                const response = await fetch(\"http://localhost:3000/api/auth/logout\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n                        \"Authorization\": `Bearer ${token}`\r\n                    },\r\n                    method: \"POST\",\r\n                });\r\n                \r\n                try {\r\n                    const resObj = await response.json();\r\n                    window.localStorage.clear();\r\n\r\n                    this.$emit(\"logPages\");\r\n                    this.$emit(\"swapPages\");\r\n                    this.$emit(\"swapPageAlert\");\r\n                    this.$emit(\"swapPageMsg\", resObj.message);\r\n\r\n                    const popup = document.querySelector(\".swap-pages-alert\");\r\n                    popup.classList.add(\"red-popup\");\r\n\r\n                    setTimeout(() => this.$emit(\"swapPageAlert\"), this.$parent.popupDuration * 2 );\r\n                    setTimeout(() => popup.classList.remove(\"red-popup\"), this.$parent.popupDuration * 3);\r\n                }\r\n                catch(error) { console.log(\"error\", error) }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style>\r\n    .red-popup {\r\n        border-color: red !important;\r\n        background: rgb(255, 210, 210) !important;\r\n    }\r\n</style>\r\n\r\n\r\n<style scoped>\r\n    .logout-btn {\r\n        position: absolute;\r\n        top: 10px;\r\n        right: 10%;\r\n        height: 40px;\r\n        width: 40px;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .svg-inline--fa {\r\n        font-size: 110%;\r\n    }\r\n</style>"]}]}