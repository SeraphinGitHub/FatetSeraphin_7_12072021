{"remainingRequest":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\Login_Page\\Signin.vue?vue&type=style&index=1&id=3658554c&scoped=true&lang=scss","dependencies":[{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\Login_Page\\Signin.vue","mtime":1628286871376},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1626466876000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgDQogICAgJHBhZ2VDb2xvcjogcmdiKDE5NywgNjEsIDI1NSk7DQoNCiAgICAuc2lnbmluIHsNCiAgICAgICAgei1pbmRleDogMTsNCiAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweCAwIDE1cHggMTVweDsNCiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgbGlnaHRncmF5LCAkcGFnZUNvbG9yKTsNCiAgICB9DQoNCiAgICAuc2lnbmluLA0KICAgIC5zaWduaW4tYnRuIHsNCiAgICAgICAgYm9yZGVyOiBzb2xpZCAkcGFnZUNvbG9yIDNweDsNCiAgICB9DQoNCiAgICAuc2lnbmluLWJ0biB7DQogICAgICAgIHJpZ2h0OiAtM3B4Ow0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcGFnZUNvbG9yOw0KICAgIH0NCg0KICAgIC5zaWduaW4tZm9ybSB7DQogICAgICAgIGFsaWduLWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgIGhlaWdodDogOTUlOw0KICAgIH0NCg0KICAgIC8qIC0tLSBBbGVydCBNZXNzYWdlIC0tLSAqLw0KICAgIC5mb3JtLWFsZXJ0IHsNCiAgICAgICAgei1pbmRleDogMzsNCiAgICAgICAgaGVpZ2h0OiAzNXB4Ow0KICAgICAgICBib3R0b206IC00MHB4Ow0KICAgIH0NCg0KICAgIC5zZXJ2ZXItYWxlcnQgew0KICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgIHRvcDogMDsNCiAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICBoZWlnaHQ6IDQwcHg7DQogICAgICAgIG1hcmdpbi10b3A6IDMwcHg7DQogICAgICAgIGZvbnQtc2l6ZTogMTAwJTsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOw0KICAgIH0NCg=="},{"version":3,"sources":["E:\\__Web Dev__ Formation\\FatetSeraphin_7_12072021\\front\\src\\components\\Login_Page\\Signin.vue"],"names":[],"mappings":"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","file":"E:/__Web Dev__ Formation/FatetSeraphin_7_12072021/front/src/components/Login_Page/Signin.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <section class=\"flexCenter signin\">\r\n\r\n        <button class=\"signin-btn\" @click=\"showSignin()\">Inscription</button>\r\n        \r\n        <form class=\"flexCenter signin-form\" method=\"POST\">\r\n            \r\n            <div class=\"flexCenter field-container\">\r\n                <label for=\"email\">E-mail</label>\r\n                <input class=\"log-input\" name=\"email\" type=\"email\" placeholder=\"Entrer votre E-mail\" v-model=\"email\">\r\n                \r\n                <transition name=\"fade\">\r\n                    <p class=\"flexCenter form-alert\" v-show=\"emailAlert\">{{ emailMsg }}</p>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class=\"flexCenter field-container\">\r\n                <label for=\"password\">Mot de passe</label>\r\n                <input class=\"log-input\" name=\"password\" type=\"password\" placeholder=\"Entrer votre mot de passe\" v-model=\"password\">\r\n                \r\n                <transition name=\"fade\">\r\n                    <p class=\"flexCenter form-alert\" v-show=\"pswAlert\">{{ pswMsg }}</p>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class=\"flexCenter field-container\">\r\n                <label for=\"confirmPsw\">Confirmer le mot de passe</label>\r\n                <input class=\"log-input\" name=\"confirmPsw\" type=\"password\" @input=\"matchingPsw()\" placeholder=\"Confirmer votre mot de passe\" v-model=\"confirmPsw\">\r\n                \r\n                <transition name=\"fade\">\r\n                    <p class=\"flexCenter form-alert\" v-show=\"pswConfirmAlert\">{{ dismatchPswMsg }}</p>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class=\"flexCenter field-container\">\r\n                <label for=\"userName\">Nom et Prénom</label>\r\n                <input class=\"log-input\"  name=\"userName\" type=\"text\" placeholder=\"Entrer votre nom et prénom\" v-model=\"userName\">\r\n                \r\n                <transition name=\"fade\">\r\n                    <p class=\"flexCenter form-alert\" v-show=\"userNameAlert\">{{ userNameMsg }}</p>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class=\"flexCenter field-container\">\r\n                <label for=\"position\">Poste occupé</label>\r\n                <input class=\"log-input\" name=\"position\" type=\"text\" placeholder=\"Votre poste dans l'entreprise\" v-model=\"position\">\r\n                \r\n                <transition name=\"fade\">\r\n                    <p class=\"flexCenter form-alert\" v-show=\"positionAlert\">{{ positionMsg }}</p>\r\n                </transition>\r\n            </div>\r\n\r\n            <div class=\"flexCenter field-container\">\r\n                <label for=\"department\">Service</label>\r\n                <input class=\"log-input\" name=\"department\" type=\"text\" placeholder=\"Votre service dans l'entreprise\" v-model=\"department\">\r\n                \r\n                <transition name=\"fade\">\r\n                    <p class=\"flexCenter form-alert\" v-show=\"departmentAlert\">{{ departmentMsg }}</p>\r\n                </transition>\r\n            </div>\r\n\r\n            <transition name=\"slideSide\">\r\n                <h3 class=\"flexCenter form-alert server-alert\" v-show=\"serverAlert\">{{ serverMsg }}</h3>\r\n            </transition>\r\n            \r\n            <button class=\"btn\" @click.prevent=\"signin()\" type=\"submit\">S'inscrire</button>\r\n        </form>\r\n\r\n    </section>\r\n</template>\r\n\r\n\r\n<script>\r\n    import generic from \"../../generic-methods.js\"\r\n\r\n    export default {\r\n        name: \"Signin\",\r\n\r\n        mixins: [\r\n            generic,\r\n        ],\r\n\r\n        props: {\r\n            isLoading: Boolean,\r\n            isLogPages: Boolean,\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                timeOutDuration: 2500,  // <== miliseconds\r\n\r\n                serverAlert: false,\r\n                serverMsg: \"\",\r\n\r\n                email: \"\",\r\n                password: \"\",\r\n                confirmPsw: \"\",\r\n                userName: \"\",\r\n                position: \"\",\r\n                department: \"\",\r\n\r\n                emailValid: false,\r\n                emailAlert: false,\r\n                emailMsg: \"\",\r\n\r\n                passwordValid: false,\r\n                pswAlert: false,\r\n                pswMsg: \"\",\r\n\r\n                confirmPswValid: false,\r\n                pswConfirmAlert: false,\r\n                \r\n                userNameValid: false,\r\n                userNameAlert: false,\r\n                userNameMsg: \"\",\r\n                \r\n                positionValid: false,\r\n                positionAlert: false,\r\n                positionMsg: \"\",\r\n                \r\n                departmentValid: false,\r\n                departmentAlert: false,\r\n                departmentMsg: \"\",\r\n\r\n                emptyField: \"Le champ est vide !\",\r\n                wrongRegEx: \"Champ invalide !\",\r\n                pswUnderRegEx: \"Champ invalide ou moins de 10 caractères !\",\r\n                dismatchPswMsg: \"Les mots de passe ne correspondent pas !\",\r\n\r\n                passwordMatched: false,\r\n            }\r\n        },\r\n        \r\n        methods: {\r\n            showSignin() {\r\n                this.$emit(\"signin\");\r\n            },\r\n\r\n\r\n            matchingPsw() {\r\n                if(this.confirmPsw !== this.password) this.pswConfirmAlert = true;\r\n\r\n                else {\r\n                    this.passwordMatched = true;\r\n                    this.pswConfirmAlert = false;\r\n                } \r\n            },\r\n\r\n\r\n            formValid(formData, inputField, regEx, elemString) {\r\n                // If input field is empty\r\n                if (inputField === \"\") {\r\n                    if(elemString === \"email\") {this.emailAlert = true; this.emailMsg = this.emptyField}\r\n                    if(elemString === \"password\") {this.pswAlert = true; this.pswMsg = this.emptyField}\r\n                    if(elemString === \"confirmPsw\") {this.pswConfirmAlert = true; this.pswConfirmMsg = this.emptyField}\r\n                    if(elemString === \"userName\") {this.userNameAlert = true; this.userNameMsg = this.emptyField}\r\n                    if(elemString === \"position\") {this.positionAlert = true; this.positionMsg = this.emptyField}\r\n                    if(elemString === \"department\") {this.departmentAlert = true; this.departmentMsg = this.emptyField}\r\n                }\r\n\r\n                // If regEx is wrong\r\n                else if (!regEx.test(inputField)) {\r\n                    if(elemString === \"email\") {this.emailAlert = true; this.emailMsg = this.wrongRegEx}\r\n                    if(elemString === \"password\") {this.pswAlert = true; this.pswMsg = this.pswUnderRegEx}\r\n                    if(elemString === \"confirmPsw\") {this.pswConfirmAlert = true; this.pswConfirmMsg = this.pswUnderRegEx}\r\n                    if(elemString === \"userName\") {this.userNameAlert = true; this.userNameMsg = this.wrongRegEx}\r\n                    if(elemString === \"position\") {this.positionAlert = true; this.positionMsg = this.wrongRegEx}\r\n                    if(elemString === \"department\") {this.departmentAlert = true; this.departmentMsg = this.wrongRegEx}\r\n                }\r\n                \r\n                // If all informations are corrects\r\n                else {\r\n                    formData.set(elemString, inputField);\r\n                    \r\n                    if(elemString === \"email\") this.emailValid = true;\r\n                    if(elemString === \"password\") this.passwordValid = true;\r\n                    if(elemString === \"confirmPsw\") this.confirmPswValid = true;\r\n                    if(elemString === \"userName\") this.userNameValid = true;\r\n                    if(elemString === \"position\") this.positionValid = true;\r\n                    if(elemString === \"department\") this.departmentValid = true;\r\n                }\r\n            },\r\n\r\n\r\n            getPersonInfos() {\r\n                // Have to contain: \r\n                //  LETTER || letter || number || dot || under score || dash\r\n                //  && at (@) &&\r\n                //  LETTER || letter || number && dot && LETTER || letter\r\n                const emailRegEx = new RegExp(/^[A-Za-z0-9._-]+[@]+[A-Za-z0-9]+[.]+[A-Za-z]+$/);\r\n\r\n                // Have to contain: LETTER || letter || accent letters || spaces || dash\r\n                const normalTextRegEx = new RegExp(/^[A-Za-zÜ-ü\\s-]+$/);\r\n\r\n                // Have to contain: LETTER || letter || number || accent letters || number && minimum 10 characters \r\n                const passwordRegEx = new RegExp(/^[A-Za-zÜ-ü0-9!@#$%^&*].{9,}$/);\r\n                \r\n                const postForm = document.querySelector(\".signin-form\");\r\n                const formData = new FormData(postForm)\r\n\r\n                this.formValid(formData, this.email, emailRegEx, \"email\");\r\n                this.formValid(formData, this.password, passwordRegEx, \"password\");\r\n                this.formValid(formData, this.confirmPsw, passwordRegEx, \"confirmPsw\");\r\n                this.formValid(formData, this.userName, normalTextRegEx, \"userName\");\r\n                this.formValid(formData, this.position, normalTextRegEx, \"position\");\r\n                this.formValid(formData, this.department, normalTextRegEx, \"department\");\r\n                \r\n                return formData;\r\n            },\r\n\r\n\r\n            async postDataSignin(formData) {\r\n                this.$parent.$emit(\"loading\");\r\n\r\n                const response = await fetch(\"http://localhost:3000/api/auth/signin\", {\r\n                    headers: {\"Content-Type\": \"application/json; charset=UTF-8\"},\r\n                    method: \"POST\",\r\n                    body: JSON.stringify(formData)\r\n                });\r\n                \r\n                try {\r\n                    this.$parent.$emit(\"loading\");\r\n                    const session = await response.json();\r\n                    this.log_Base(session, \"déjà pris\", this.timeOutDuration, \"signin\");\r\n                }\r\n                catch(error) { console.log(\"error\", error) }\r\n            },\r\n\r\n\r\n            clearInputFields() {\r\n                const allFields = document.querySelectorAll(\".log-input\");\r\n                allFields.forEach( field => field.value = \"\");\r\n            },\r\n\r\n\r\n            signin() {\r\n                const formData = this.getPersonInfos();\r\n                formData.forEach((key, value) => formData[value] = key);\r\n                \r\n                if(this.emailValid\r\n                && this.passwordValid\r\n                && this.confirmPswValid\r\n                && this.userNameValid\r\n                && this.positionValid\r\n                && this.departmentValid\r\n                && this.passwordMatched) {\r\n\r\n                    this.postDataSignin(formData);\r\n                }\r\n                \r\n                setTimeout(() => {\r\n                    this.emailAlert = false;\r\n                    this.pswAlert = false;\r\n                    this.pswConfirmAlert = false;\r\n                    this.userNameAlert = false;\r\n                    this.positionAlert = false;\r\n                    this.departmentAlert = false;\r\n                }, this.timeOutDuration);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n    \r\n    /* --- Alert Message --- */\r\n    .form-alert {\r\n        position: absolute;\r\n        height: 30px;\r\n        width: 80% !important;\r\n        bottom: -30px;\r\n        left: center;\r\n\r\n        font-size: 90%;\r\n        text-align: center;\r\n        border: solid red 1.5px;\r\n        background-color: rgb(255, 210, 210);\r\n        border-radius: 5px;\r\n    }\r\n</style>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n    \r\n    $pageColor: rgb(197, 61, 255);\r\n\r\n    .signin {\r\n        z-index: 1;\r\n        border-radius: 15px 0 15px 15px;\r\n        background: linear-gradient(to top, lightgray, $pageColor);\r\n    }\r\n\r\n    .signin,\r\n    .signin-btn {\r\n        border: solid $pageColor 3px;\r\n    }\r\n\r\n    .signin-btn {\r\n        right: -3px;\r\n        background-color: $pageColor;\r\n    }\r\n\r\n    .signin-form {\r\n        align-content: space-between;\r\n        height: 95%;\r\n    }\r\n\r\n    /* --- Alert Message --- */\r\n    .form-alert {\r\n        z-index: 3;\r\n        height: 35px;\r\n        bottom: -40px;\r\n    }\r\n\r\n    .server-alert {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 50%;\r\n        height: 40px;\r\n        margin-top: 30px;\r\n        font-size: 100%;\r\n        font-weight: 400;\r\n        transform: translateX(-50%);\r\n    }\r\n</style>"]}]}